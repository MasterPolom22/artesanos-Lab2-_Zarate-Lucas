extends ../layout

block content
  h2 Mis Álbumes

  // Botones superiores
  .d-flex.mb-4
    a.btn.btn-success.me-2(href="/album/subir") ➕ Subir imagen
    a.btn.btn-primary.me-2(href="/album/crear") 📁 Crear álbum
    a.btn.btn-secondary(href="/perfil") ⬅️ Volver al perfil

  if albumes.length
    .row
      each album in albumes
        .col-md-6.col-lg-4.mb-4
          .card.shadow-sm
            // Si tiene imágenes, mostrar miniatura de la primera
            if album.imagenes.length
              a(href=`/album/${album.id_album}`)
                img.card-img-top(src=album.imagenes[0].url, alt="Miniatura del álbum")

            .card-body
              h5.card-title= album.titulo

              .d-flex.justify-content-between.flex-wrap.mt-2
                a.btn.btn-outline-primary.btn-sm(href=`/album/${album.id_album}`) 📂 Ver álbum
                a.btn.btn-outline-warning.btn-sm(href=`/album/editar/${album.id_album}`) 📝 Editar
                form(action=`/album/eliminar/${album.id_album}` method="POST" class="d-inline")
                  button.btn.btn-outline-danger.btn-sm(type="submit" onclick="return confirm('¿Eliminar este álbum con sus imágenes?')") 🗑️ Eliminar
  else
    p.text-muted Aún no creaste álbumes.
